<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Go Paymill by cyrrill</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Go Paymill</h1>
      <h2 class="project-tagline">Paymill API client for Go lang</h2>
      <a href="https://github.com/cyrrill/gopaymill" class="btn">View on GitHub</a>
      <a href="https://github.com/cyrrill/gopaymill/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/cyrrill/gopaymill/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="go-paymill" class="anchor" href="#go-paymill" aria-hidden="true"><span class="octicon octicon-link"></span></a>Go Paymill</h1>

<p>Here is how to connect to and interact with the Paymill API in Go.</p>

<p>Each model type is mapped to a struct, which has New() Get() All() methods.</p>

<ul>
<li>Client</li>
<li>Payment</li>
<li>Transaction</li>
<li>Subscription</li>
</ul>

<h2>
<a id="connect" class="anchor" href="#connect" aria-hidden="true"><span class="octicon octicon-link"></span></a>Connect</h2>

<p>Import the package into your app and </p>

<pre><code>package yourapp

import (
    "fmt"
    gp "github.com/cyrrill/gopaymill"
)

// Creates a connection client using your private API key
p := gp.Paymill{
    PrivateKey: "@see https://app.paymill.com/development/api-keys",
}
</code></pre>

<h2>
<a id="models" class="anchor" href="#models" aria-hidden="true"><span class="octicon octicon-link"></span></a>Models</h2>

<p>The create individual structs and call the action method on the Paymill connection &amp;p</p>

<pre><code>// Creates a new client 
client := gp.Client{
    Description: "Golang", 
    Email: "test@golang.org",
}.New(&amp;p)

</code></pre>

<p>Reuse values directly in following calls</p>

<pre><code>
// Create a new payment object. Get the token from Paymill
// BridgeJS, client ID comes previous call

payment := gp.Payment{
    Token:"tok_000000000000", 
    Client: client.ID
}.New(&amp;p)


// Create a recurring subscritpion with new payment method

subscription := gp.Subscription{
    Offer:   "offer_0000000000000000", 
    Client:  client.ID, 
    Payment: payment.ID,
}.New(&amp;p)

</code></pre>

<h2>
<a id="output" class="anchor" href="#output" aria-hidden="true"><span class="octicon octicon-link"></span></a>Output</h2>

<p>The values in all the models are directly accesible after the call as:</p>

<pre><code>fmt.Println("Subscription ID: "+subscription.ID)

fmt.Println("Client email: "+client.Email)

</code></pre>

<h2>
<a id="get-one-get-all" class="anchor" href="#get-one-get-all" aria-hidden="true"><span class="octicon octicon-link"></span></a>Get one, Get all</h2>

<pre><code>// Lookup by key
payment := gp.Payment{ID:"pay_000000000000"}.Get(&amp;p)


// Get all  []Transaction
transaction := gp.Transaction{}.All(&amp;p)


</code></pre>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/cyrrill/gopaymill">Go Paymill</a> is maintained by <a href="https://github.com/cyrrill">cyrrill</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
